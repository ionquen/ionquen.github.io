"use strict";(self.webpackChunktests=self.webpackChunktests||[]).push([[201],{7101:(e,t,n)=>{function i(...[e,t]){return JSON.stringify(e,t,2)}n.d(t,{d:()=>i})},7796:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(4848),c=n(6540),r=n(4449),s=n(7101);function a(){const[e,t]=(0,c.useState)(""),[n,r]=(0,c.useState)("");return(0,c.useEffect)((()=>{const e=navigator.mediaDevices.getSupportedConstraints();t((0,s.d)(e)),navigator.mediaDevices.enumerateDevices().then(s.d).then(r)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Constraints:"}),(0,i.jsx)("pre",{children:e}),(0,i.jsx)("p",{children:"Enumerate Devices:"}),(0,i.jsx)("pre",{children:n})]})}var o=n(1794),d=function(e,t,n,i){return new(n||(n=Promise))((function(c,r){function s(e){try{o(i.next(e))}catch(e){r(e)}}function a(e){try{o(i.throw(e))}catch(e){r(e)}}function o(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}o((i=i.apply(e,t||[])).next())}))};const u=function(){const e=(0,c.useRef)(null),t=(0,c.useRef)(null),[n,s]=(0,c.useState)(1200),[u,l]=(0,c.useState)(0),[h,f]=(0,c.useState)(null),[v,g]=(0,c.useState)(!1),x=(0,o.x)();function p(){const e=t.current;var n=e.getContext("2d");n.fillStyle="#AAA",n.fillRect(0,0,e.width,e.height);var i=e.toDataURL("image/png");f(i)}return(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)(r.$,{onClick:()=>d(this,void 0,void 0,(function*(){const t=e.current;navigator.mediaDevices.getDisplayMedia({video:!0,audio:!1}).then((function(e){t.srcObject=e,t.play()})).catch(x)})),children:"Stream Display Media"}),(0,i.jsx)(r.$,{onClick:()=>d(this,void 0,void 0,(function*(){const t=e.current;navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){t.srcObject=e,t.play()})).catch(x)})),children:"Stream User Media"})]}),e.current&&(0,i.jsx)("p",{children:(0,i.jsx)(r.$,{onClick:function(){const i=e.current,c=t.current,r=c.getContext("2d");if(n&&u){c.width=n,c.height=u,r.drawImage(i,0,0,n,u);const e=c.toDataURL("image/png");f(e)}else p()},children:"Take Picture"})}),(0,i.jsx)("video",{width:n,height:u,ref:e,onCanPlayCapture:t=>{if(!v){const t=e.current,i=t.videoHeight/(t.videoWidth/n);l(i),g(!0)}},children:"Video stream not available."}),h&&(0,i.jsx)("p",{children:(0,i.jsx)(r.$,{onClick:p,children:"Clear Picture"})}),(0,i.jsx)("canvas",{className:"hidden",width:n,height:u,ref:t}),(0,i.jsx)("img",{src:h}),(0,i.jsx)(a,{})]})}}}]);