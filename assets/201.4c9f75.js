"use strict";(self.webpackChunktests=self.webpackChunktests||[]).push([[201],{4438:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var i=n(4848),c=n(6540),r=n(4449);const s=function(){const e=(0,c.useRef)(null),t=(0,c.useRef)(null),[n,s]=(0,c.useState)(600),[a,o]=(0,c.useState)(0),[l,u]=(0,c.useState)(null),[d,h]=(0,c.useState)(!1);function f(){const e=t.current;var n=e.getContext("2d");n.fillStyle="#AAA",n.fillRect(0,0,e.width,e.height);var i=e.toDataURL("image/png");u(i)}return(0,c.useLayoutEffect)((()=>{const t=e.current;let n;return navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then((function(e){t.srcObject=e,n=e,t.play()})).catch((function(e){console.log("An error occurred: "+e)})),()=>{null==n||n.getTracks().forEach((e=>e.stop()))}}),[]),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:(0,i.jsx)(r.$,{onClick:function(){const i=e.current,c=t.current,r=c.getContext("2d");if(n&&a){c.width=n,c.height=a,r.drawImage(i,0,0,n,a);const e=c.toDataURL("image/png");u(e)}else f()},children:"Take Picture"})}),(0,i.jsx)("video",{width:n,height:a,ref:e,onCanPlayCapture:t=>{if(!d){const t=e.current,i=t.videoHeight/(t.videoWidth/n);o(i),h(!0)}},children:"Video stream not available."}),l&&(0,i.jsx)("p",{children:(0,i.jsx)(r.$,{onClick:f,children:"Clear Picture"})}),(0,i.jsx)("canvas",{className:"hidden",width:n,height:a,ref:t}),(0,i.jsx)("img",{src:l})]})}}}]);